# 本地 MCP 配置文件示例

此文件是本地 MCP 配置文件的安全示例，展示了如何正确配置敏感 API Key。

## 安全配置方式

### 方式 1：使用环境变量（推荐）

```json
{
  "mcpServers": {
    "MiniMax": {
      "type": "stdio",
      "command": "uvx",
      "args": ["minimax-coding-plan-mcp", "-y"],
      "env": {
        "MINIMAX_API_KEY": "${MINIMAX_API_KEY}",
        "MINIMAX_API_HOST": "https://api.minimaxi.com"
      }
    }
  }
}
```

### 方式 2：创建本地配置文件

在项目根目录创建 `config/local_mcp.json`（此文件已在 .gitignore 中，会被忽略）：

```json
{
  "mcpServers": {
    "MiniMax": {
      "type": "stdio",
      "command": "uvx",
      "args": ["minimax-coding-plan-mcp", "-y"],
      "env": {
        "MINIMAX_API_KEY": "sk-cp-你的真实API Key",
        "MINIMAX_API_HOST": "https://api.minimaxi.com"
      }
    }
  }
}
```

## 注意事项

1. **不要将真实 API Key 提交到 Git**
2. 使用环境变量引用 `${VAR_NAME}` 格式
3. 本地配置文件添加 `.gitignore` 规则
4. 使用 `secure_display.py` 模块进行安全日志输出

## 安全日志

在脚本中使用安全显示模块：

```python
from scripts.secure_display import secure_print, SafeLogger

# 安全打印
secure_print(f"API Key: {api_key}")
# 输出: API Key: sk-cp-****6789

# 安全日志
logger = SafeLogger("MyModule")
logger.info("API loaded", api_key="sk-cp-xxx123")
# 输出: INFO: [MyModule] API loaded, api_key=sk-cp-****23
```
