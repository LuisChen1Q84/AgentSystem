# 自动化执行总线

## 目标

将“自动规则”转化为可执行命令，避免仅靠口头约定。

## 统一入口

使用脚本：`scripts/agentsys.sh`

支持命令：

- `scripts/agentsys.sh morning`：生成晨间简报
- `scripts/agentsys.sh done`：记录会话收尾日志
- `scripts/agentsys.sh iterate`：生成迭代审计记录
- `scripts/agentsys.sh archive`：执行任务归档
- `scripts/agentsys.sh health`：生成知识库健康报告
- `scripts/agentsys.sh index`：重建本地知识检索索引
- `scripts/agentsys.sh search "<关键词>"`：查询本地知识索引
- `scripts/agentsys.sh lifecycle`：执行生命周期清理
- `scripts/agentsys.sh summary`：生成每日日志摘要
- `scripts/agentsys.sh weekly-summary`：生成近7天日志摘要
- `scripts/agentsys.sh guard`：检查连续失败阈值并告警
- `scripts/agentsys.sh recommend`：生成今日执行建议
- `scripts/agentsys.sh metrics`：生成7天运营指标报告
- `scripts/agentsys.sh pipeline "<topic>"`：执行内容生产流水线
- `scripts/agentsys.sh plan-task "<task_id>"`：自动拆解任务为子任务
- `scripts/agentsys.sh risk`：生成风险雷达
- `scripts/agentsys.sh dashboard`：生成经营看板
- `scripts/agentsys.sh weekly-review`：生成每周复盘
- `scripts/agentsys.sh okr-init|okr-report`：初始化/输出OKR进度
- `scripts/agentsys.sh decision`：生成智能优先决策清单
- `scripts/agentsys.sh optimize`：执行闭环调优并写入策略文件
- `scripts/agentsys.sh strategy`：生成战略简报
- `scripts/agentsys.sh forecast`：生成经营预测
- `scripts/agentsys.sh experiment`：生成实验计划并更新实验库
- `scripts/agentsys.sh learning`：更新经营学习卡
- `scripts/agentsys.sh autopilot`：生成自治目标计划
- `scripts/agentsys.sh agents`：执行多代理任务分派
- `scripts/agentsys.sh roi`：生成ROI决策中枢
- `scripts/agentsys.sh experiment-eval`：评估实验结果并更新状态
- `scripts/agentsys.sh release-ctrl`：生成发布策略与回滚建议
- `scripts/agentsys.sh ceo-brief`：生成CEO简报
- `scripts/agentsys.sh anomaly`：生成异常守护报告
- `scripts/agentsys.sh resilience`：生成韧性演练报告
- `scripts/agentsys.sh northstar`：生成北极星追踪报告
- `scripts/agentsys.sh capital`：生成经营资本看板
- `scripts/agentsys.sh autonomy-audit`：生成自治审计报告
- `scripts/agentsys.sh board-packet`：生成董事会经营包
- `scripts/agentsys.sh datahub-init|datahub-ingest|datahub-clean|datahub-model|datahub-quality|datahub-analyze`：私有数据中台全链路
- `scripts/agentsys.sh datahub-api`：启动本地数据接口（127.0.0.1）
- `scripts/agentsys.sh datahub-cycle`：一键执行私有数据处理流水线
- `scripts/agentsys.sh cycle-daily|cycle-weekly|cycle-monthly|cycle-intel|cycle-evolve|cycle-autonomous|cycle-ultimate`：执行经营节奏编排
- `scripts/agentsys.sh preflight`：执行发布前门禁检查

## 审计日志

- 总日志：`日志/automation.log`
- 按日审计：`日志/自动化执行日志/YYYY-MM-DD.log`

## 失败处理

- 所有自动化脚本使用 `set -euo pipefail`
- 外部请求使用 `curl --fail --show-error --retry`
- 失败时必须记录日志并返回非 0 退出码
- 触发 `send_alert`（可选 webhook：`ALERT_WEBHOOK_URL`）
- 告警级别：`WARN`（参数问题）/`ERROR`（执行失败）
- 失败码映射见：`工作流/Runbook.md`

## 运维文档

- 运行手册：`工作流/Runbook.md`
- 故障SOP：`工作流/故障处理SOP.md`
